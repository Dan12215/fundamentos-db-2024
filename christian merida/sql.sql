-- MySQL Script generated by MySQL Workbench
-- Wed Apr  3 10:22:20 2024
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema AEROPUERTO
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `AEROPUERTO` ;

-- -----------------------------------------------------
-- Schema AEROPUERTO
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `AEROPUERTO` DEFAULT CHARACTER SET utf8 ;
USE `AEROPUERTO` ;

-- -----------------------------------------------------
-- Table `AEROPUERTO`.`AEROPUERTO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `AEROPUERTO`.`AEROPUERTO` (
  `CODIGO` INT NOT NULL,
  `NOMBRE` VARCHAR(45) NOT NULL,
  `PAIS` VARCHAR(45) NOT NULL,
  `CIUDAD` VARCHAR(45) NOT NULL,
  `ATERRIZAJES` INT NOT NULL,
  `DESPEGUES` INT NOT NULL,
  PRIMARY KEY (`CODIGO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `AEROPUERTO`.`PROGRAMA_VUELO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `AEROPUERTO`.`PROGRAMA_VUELO` (
  `NUMERO_VUELO` INT NOT NULL,
  `DIAS_VUELO` VARCHAR(45) NOT NULL,
  `LUGAR_DESPEGUE` VARCHAR(40) NOT NULL,
  `LUGAR_LLEGADA` VARCHAR(45) NOT NULL,
  `AEROPUERTO_CODIGO` INT NOT NULL,
  PRIMARY KEY (`NUMERO_VUELO`, `AEROPUERTO_CODIGO`),
  INDEX `fk_PROGRAMA_VUELO_AEROPUERTO1_idx` (`AEROPUERTO_CODIGO` ASC) VISIBLE,
  CONSTRAINT `fk_PROGRAMA_VUELO_AEROPUERTO1`
    FOREIGN KEY (`AEROPUERTO_CODIGO`)
    REFERENCES `AEROPUERTO`.`AEROPUERTO` (`CODIGO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `AEROPUERTO`.`AEROLINEA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `AEROPUERTO`.`AEROLINEA` (
  `NOMBRE` INT NOT NULL,
  `CONTACTO` VARCHAR(45) NOT NULL,
  `LUGAR_OPERACION` VARCHAR(45) NOT NULL,
  `ANIO_INICIO_LABORES` DATE NOT NULL,
  `CALIFICACION_SERVICIO` FLOAT NOT NULL,
  `ESTADO` ENUM('FUNCIOANDO', 'SUSPENDIDO', 'CANCELADO') NOT NULL,
  `PROGRAMA_VUELO_NUMERO_VUELO` INT NOT NULL,
  `PROGRAMA_VUELO_AEROPUERTO_CODIGO` INT NOT NULL,
  PRIMARY KEY (`NOMBRE`, `PROGRAMA_VUELO_NUMERO_VUELO`, `PROGRAMA_VUELO_AEROPUERTO_CODIGO`),
  INDEX `fk_AEROLINEA_PROGRAMA_VUELO1_idx` (`PROGRAMA_VUELO_NUMERO_VUELO` ASC, `PROGRAMA_VUELO_AEROPUERTO_CODIGO` ASC) VISIBLE,
  CONSTRAINT `fk_AEROLINEA_PROGRAMA_VUELO1`
    FOREIGN KEY (`PROGRAMA_VUELO_NUMERO_VUELO` , `PROGRAMA_VUELO_AEROPUERTO_CODIGO`)
    REFERENCES `AEROPUERTO`.`PROGRAMA_VUELO` (`NUMERO_VUELO` , `AEROPUERTO_CODIGO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `AEROPUERTO`.`AVION`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `AEROPUERTO`.`AVION` (
  `ID_AVION` INT NOT NULL,
  `MODELO` VARCHAR(45) NOT NULL,
  `CAPACIDAD` INT NOT NULL,
  PRIMARY KEY (`ID_AVION`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `AEROPUERTO`.`TRIPULACION`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `AEROPUERTO`.`TRIPULACION` (
  `idTRIPULACION` INT NOT NULL,
  `NOMBRE(PILOTO)` VARCHAR(45) NOT NULL,
  `NOMBRE(CO_PILOTO)` VARCHAR(45) NOT NULL,
  `NOMBRE(AZAFATA1)` VARCHAR(45) NOT NULL,
  `NOMBRE(AZAFATA2)` VARCHAR(45) NOT NULL,
  `PROGRAMA_VUELO_NUMERO_VUELO` INT NOT NULL,
  PRIMARY KEY (`idTRIPULACION`, `PROGRAMA_VUELO_NUMERO_VUELO`),
  INDEX `fk_TRIPULACION_PROGRAMA_VUELO_idx` (`PROGRAMA_VUELO_NUMERO_VUELO` ASC) VISIBLE,
  CONSTRAINT `fk_TRIPULACION_PROGRAMA_VUELO`
    FOREIGN KEY (`PROGRAMA_VUELO_NUMERO_VUELO`)
    REFERENCES `AEROPUERTO`.`PROGRAMA_VUELO` (`NUMERO_VUELO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `AEROPUERTO`.`VUELO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `AEROPUERTO`.`VUELO` (
  `idVUELO` INT NOT NULL,
  `FECHA` DATE NOT NULL,
  `PLAZAS_VACIAS` INT NOT NULL,
  `MODELO_AVION` VARCHAR(45) NOT NULL,
  `PROGRAMA_VUELO_NUMERO_VUELO` INT NOT NULL,
  `PROGRAMA_VUELO_AEROPUERTO_CODIGO` INT NOT NULL,
  `AVION_ID_AVION` INT NOT NULL,
  PRIMARY KEY (`idVUELO`, `PROGRAMA_VUELO_NUMERO_VUELO`, `PROGRAMA_VUELO_AEROPUERTO_CODIGO`, `AVION_ID_AVION`),
  INDEX `fk_VUELO_PROGRAMA_VUELO1_idx` (`PROGRAMA_VUELO_NUMERO_VUELO` ASC, `PROGRAMA_VUELO_AEROPUERTO_CODIGO` ASC) VISIBLE,
  INDEX `fk_VUELO_AVION1_idx` (`AVION_ID_AVION` ASC) VISIBLE,
  CONSTRAINT `fk_VUELO_PROGRAMA_VUELO1`
    FOREIGN KEY (`PROGRAMA_VUELO_NUMERO_VUELO` , `PROGRAMA_VUELO_AEROPUERTO_CODIGO`)
    REFERENCES `AEROPUERTO`.`PROGRAMA_VUELO` (`NUMERO_VUELO` , `AEROPUERTO_CODIGO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_VUELO_AVION1`
    FOREIGN KEY (`AVION_ID_AVION`)
    REFERENCES `AEROPUERTO`.`AVION` (`ID_AVION`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `AEROPUERTO`.`AVION_has_AEROPUERTO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `AEROPUERTO`.`AVION_has_AEROPUERTO` (
  `AVION_ID_AVION` INT NOT NULL,
  `AEROPUERTO_CODIGO` INT NOT NULL,
  PRIMARY KEY (`AVION_ID_AVION`, `AEROPUERTO_CODIGO`),
  INDEX `fk_AVION_has_AEROPUERTO_AEROPUERTO1_idx` (`AEROPUERTO_CODIGO` ASC) VISIBLE,
  INDEX `fk_AVION_has_AEROPUERTO_AVION1_idx` (`AVION_ID_AVION` ASC) VISIBLE,
  CONSTRAINT `fk_AVION_has_AEROPUERTO_AVION1`
    FOREIGN KEY (`AVION_ID_AVION`)
    REFERENCES `AEROPUERTO`.`AVION` (`ID_AVION`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_AVION_has_AEROPUERTO_AEROPUERTO1`
    FOREIGN KEY (`AEROPUERTO_CODIGO`)
    REFERENCES `AEROPUERTO`.`AEROPUERTO` (`CODIGO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;



-- Table `AEROPUERTO`.`ESCALA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `AEROPUERTO`.`ESCALA` (
  `idESCALA` INT NOT NULL,
  `N_ESCALA` INT NOT NULL,
  `SUBEN` VARCHAR(45) NOT NULL,
  `BAJAN` VARCHAR(45) NOT NULL,
  `VUELO_idVUELO` INT NOT NULL,
  `VUELO_PROGRAMA_VUELO_NUMERO_VUELO` INT NOT NULL,
  `VUELO_PROGRAMA_VUELO_AEROPUERTO_CODIGO` INT NOT NULL,
  `VUELO_AVION_ID_AVION` INT NOT NULL,
  PRIMARY KEY (`idESCALA`, `VUELO_idVUELO`, `VUELO_PROGRAMA_VUELO_NUMERO_VUELO`, `VUELO_PROGRAMA_VUELO_AEROPUERTO_CODIGO`, `VUELO_AVION_ID_AVION`),
  INDEX `fk_ESCALA_VUELO1_idx` (`VUELO_idVUELO` ASC, `VUELO_PROGRAMA_VUELO_NUMERO_VUELO` ASC, `VUELO_PROGRAMA_VUELO_AEROPUERTO_CODIGO` ASC, `VUELO_AVION_ID_AVION` ASC) VISIBLE,
  CONSTRAINT `fk_ESCALA_VUELO1`
    FOREIGN KEY (`VUELO_idVUELO` , `VUELO_PROGRAMA_VUELO_NUMERO_VUELO` , `VUELO_PROGRAMA_VUELO_AEROPUERTO_CODIGO` , `VUELO_AVION_ID_AVION`)
    REFERENCES `AEROPUERTO`.`VUELO` (`idVUELO` , `PROGRAMA_VUELO_NUMERO_VUELO` , `PROGRAMA_VUELO_AEROPUERTO_CODIGO` , `AVION_ID_AVION`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

-- Insertar datos en la tabla AEROPUERTO
INSERT INTO AEROPUERTO (CODIGO, NOMBRE, PAIS, CIUDAD, ATERRIZAJES, DESPEGUES)
VALUES (1, 'Aeropuerto Internacional de Los Ángeles', 'Estados Unidos', 'Los Ángeles', 1000, 1000);
INSERT INTO AEROPUERTO (CODIGO, NOMBRE, PAIS, CIUDAD, ATERRIZAJES, DESPEGUES)
VALUES (2, 'Aeropuerto Internacional de Londres', 'paris ', 'inglaterra ', 1000, 1000);
INSERT INTO AEROPUERTO (CODIGO, NOMBRE, PAIS, CIUDAD, ATERRIZAJES, DESPEGUES)
VALUES (3, 'Aeropuerto Internacional de paris ', 'tokyo', 'paris ', 1000, 1000);
INSERT INTO AEROPUERTO (CODIGO, NOMBRE, PAIS, CIUDAD, ATERRIZAJES, DESPEGUES)
VALUES (4, 'Aeropuerto Internacional de tokyo', 'rusia', 'tokyo', 1000, 1000);
INSERT INTO AEROPUERTO (CODIGO, NOMBRE, PAIS, CIUDAD, ATERRIZAJES, DESPEGUES)
VALUES (5, 'Aeropuerto Internacional de rusa', 'japon', 'rusia', 1000, 1000);

-- Insertar datos en la tabla PROGRAMA_VUELO
INSERT INTO PROGRAMA_VUELO (NUMERO_VUELO, DIAS_VUELO, LUGAR_DESPEGUE, LUGAR_LLEGADA, AEROPUERTO_CODIGO)
VALUES (1, 'Lunes a Viernes', 'Los Ángeles', 'Nueva York', 1);
INSERT INTO PROGRAMA_VUELO (NUMERO_VUELO, DIAS_VUELO, LUGAR_DESPEGUE, LUGAR_LLEGADA, AEROPUERTO_CODIGO)
VALUES (2, 'Lunes a Viernes', 'INGLATERRA', 'PARIS', 1);
INSERT INTO PROGRAMA_VUELO (NUMERO_VUELO, DIAS_VUELO, LUGAR_DESPEGUE, LUGAR_LLEGADA, AEROPUERTO_CODIGO)
VALUES (3, 'Lunes a Viernes', 'PARIS', 'TOKYO', 1);
INSERT INTO PROGRAMA_VUELO (NUMERO_VUELO, DIAS_VUELO, LUGAR_DESPEGUE, LUGAR_LLEGADA, AEROPUERTO_CODIGO)
VALUES (4, 'Lunes a Viernes', 'TOKYO', 'RUSIA ', 1);
INSERT INTO PROGRAMA_VUELO (NUMERO_VUELO, DIAS_VUELO, LUGAR_DESPEGUE, LUGAR_LLEGADA, AEROPUERTO_CODIGO)
VALUES (5, 'Lunes a Viernes', 'RUSIA ', 'JAPON', 1);

-- Insertar datos en la tabla AEROLINEA
INSERT INTO AEROLINEA (NOMBRE, CONTACTO, LUGAR_OPERACION, ANIO_INICIO_LABORES, CALIFICACION_SERVICIO, ESTADO, PROGRAMA_VUELO_NUMERO_VUELO, PROGRAMA_VUELO_AEROPUERTO_CODIGO)
VALUES ('American Airlines', 'contacto@americanairlines.com', 'Estados Unidos', '2020-01-01', 4.5, 'FUNCIONANDO', 1, 1);
INSERT INTO AEROLINEA (NOMBRE, CONTACTO, LUGAR_OPERACION, ANIO_INICIO_LABORES, CALIFICACION_SERVICIO, ESTADO, PROGRAMA_VUELO_NUMERO_VUELO, PROGRAMA_VUELO_AEROPUERTO_CODIGO)
VALUES ('FRANS', 'contacto@FRNAS.com', 'PARIS', '2020-01-01', 4.5, 'FUNCIONANDO', 1, 1);
INSERT INTO AEROLINEA (NOMBRE, CONTACTO, LUGAR_OPERACION, ANIO_INICIO_LABORES, CALIFICACION_SERVICIO, ESTADO, PROGRAMA_VUELO_NUMERO_VUELO, PROGRAMA_VUELO_AEROPUERTO_CODIGO)
VALUES ('RUSIA ', 'contacto@RUSIAPS.com', 'RUSIA', '2020-01-01', 4.5, 'FUNCIONANDO', 1, 1);
INSERT INTO AEROLINEA (NOMBRE, CONTACTO, LUGAR_OPERACION, ANIO_INICIO_LABORES, CALIFICACION_SERVICIO, ESTADO, PROGRAMA_VUELO_NUMERO_VUELO, PROGRAMA_VUELO_AEROPUERTO_CODIGO)
VALUES ('tokyo_es', 'contacto@tokyo_es.com', 'tokyo', '2020-01-01', 4.5, 'FUNCIONANDO', 1, 1);
INSERT INTO AEROLINEA (NOMBRE, CONTACTO, LUGAR_OPERACION, ANIO_INICIO_LABORES, CALIFICACION_SERVICIO, ESTADO, PROGRAMA_VUELO_NUMERO_VUELO, PROGRAMA_VUELO_AEROPUERTO_CODIGO)
VALUES ('ingles', 'contacto@ingles.com', 'inglaterra', '2020-01-01', 4.5, 'FUNCIONANDO', 1, 1);

-- Insertar datos en la tabla AVION
INSERT INTO AVION (ID_AVION, MODELO, CAPACIDAD)
VALUES (1, 'Boeing 74', 250);

INSERT INTO AVION (ID_AVION, MODELO, CAPACIDAD)
VALUES (2, 'Boeing 7', 400);

INSERT INTO AVION (ID_AVION, MODELO, CAPACIDAD)
VALUES (3, 'Boeing 784', 150);
INSERT INTO AVION (ID_AVION, MODELO, CAPACIDAD)
VALUES (4, 'Boeing 77', 230);

INSERT INTO AVION (ID_AVION, MODELO, CAPACIDAD)
VALUES (5, 'Boeing 747', 416);



